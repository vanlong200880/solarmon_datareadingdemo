{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"Studio\"","webpack:///external \"Studio.libraries['react']\"","webpack:///./studio/constants.js","webpack:///./studio/main_dev.js","webpack:///./studio/TemplatePdfUtilsProperties.js","webpack:///./studio/PdfUtilsTitle.js","webpack:///./studio/PdfUtilsEditor.js","webpack:///./studio/style.scss"],"names":["PDF_UTILS_TAB_TITLE","PDF_UTILS_TAB_EDITOR","Constants","Studio","addPropertiesComponent","TemplatePdfUtilsProperties","title","entity","__entitySet","recipe","includes","addEditorComponent","PdfUtilsEditor","addTabTitleComponent","PdfUtilsTitle","Properties","removeInvalidTemplateReferences","openTab","key","props","_id","editorComponentKey","titleComponentKey","entities","onChange","pdfOperations","hasTemplateReferences","updatedOperations","filter","o","templateShortid","length","Object","keys","k","shortid","openEditor","getTemplate","getEntityByShortid","name","map","join","Component","__isDirty","EntityRefSelect","updateEntity","assign","type","index","update","i","a","tmp","operation","minWidth","references","templates","e","selected","updateOperation","v","target","value","mergeToFront","checked","mergeWholeDocument","renderForEveryPage","enabled","backgroundColor","removeOperation","moveUp","moveDown","styles","operationTable","renderOperation","overflowX","marginTop","renderOperations","addOperation","propTypes","React","PropTypes","object","isRequired","tab","onUpdate","func"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = Studio;","module.exports = Studio.libraries['react'];","export const PDF_UTILS_TAB_TITLE = 'PDF_UTILS_TAB_TITLE'\nexport const PDF_UTILS_TAB_EDITOR = 'PDF_UTILS_TAB_EDITOR'\n","import Studio from 'jsreport-studio'\r\nimport TemplatePdfUtilsProperties from './TemplatePdfUtilsProperties.js'\r\nimport PdfUtilsTitle from './PdfUtilsTitle.js'\r\nimport PdfUtilsEditor from './PdfUtilsEditor.js'\r\nimport * as Constants from './constants.js'\r\n\r\nStudio.addPropertiesComponent(TemplatePdfUtilsProperties.title, TemplatePdfUtilsProperties,\r\n  (entity) => entity.__entitySet === 'templates' && entity.recipe.includes('pdf'))\r\n\r\nStudio.addEditorComponent(Constants.PDF_UTILS_TAB_EDITOR, PdfUtilsEditor)\r\nStudio.addTabTitleComponent(Constants.PDF_UTILS_TAB_TITLE, PdfUtilsTitle)\r\n","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\nimport * as Constants from './constants.js'\n\nexport default class Properties extends Component {\n  static title (entity, entities) {\n    if (!entity.pdfOperations || entity.pdfOperations.length === 0) {\n      return 'pdf utils'\n    }\n\n    const getTemplate = (shortid) => Studio.getEntityByShortid(shortid, false) || { name: '' }\n    return 'pdf utils: ' + entity.pdfOperations.map(o => getTemplate(o.templateShortid).name).join(', ')\n  }\n\n  componentDidMount () {\n    this.removeInvalidTemplateReferences()\n  }\n\n  componentDidUpdate () {\n    this.removeInvalidTemplateReferences()\n  }\n\n  openEditor () {\n    Studio.openTab({\n      key: this.props.entity._id + '_pdfUtils',\n      _id: this.props.entity._id,\n      editorComponentKey: Constants.PDF_UTILS_TAB_EDITOR,\n      titleComponentKey: Constants.PDF_UTILS_TAB_TITLE\n    })\n  }\n\n  removeInvalidTemplateReferences () {\n    const { entity, entities, onChange } = this.props\n\n    if (!entity.pdfOperations) {\n      return\n    }\n\n    let hasTemplateReferences = false\n    let updatedOperations\n\n    updatedOperations = entity.pdfOperations\n    hasTemplateReferences = entity.pdfOperations.filter(o => o.templateShortid != null).length > 0\n\n    if (hasTemplateReferences) {\n      updatedOperations = entity.pdfOperations.filter((o) => {\n        // tolerate operations recently added\n        if (o.templateShortid == null) {\n          return true\n        }\n\n        return Object.keys(entities).filter((k) => entities[k].__entitySet === 'templates' && entities[k].shortid === o.templateShortid).length\n      })\n    }\n\n    if (hasTemplateReferences && updatedOperations.length !== entity.pdfOperations.length) {\n      onChange({ _id: entity._id, pdfOperations: updatedOperations })\n    }\n  }\n\n  render () {\n    return (<div className='properties-section'>\n      <div className='form-group'>\n        <button onClick={() => this.openEditor()}>Configure</button>\n      </div>\n    </div>)\n  }\n}\n","import React from 'react'\n\nexport default (props) => <span>{props.entity.name + ' pdf utils ' + (props.entity.__isDirty ? '*' : '')}</span>\n","import React, { Component } from 'react'\r\nimport Studio from 'jsreport-studio'\r\nimport styles from './style.scss'\r\n\r\nconst EntityRefSelect = Studio.EntityRefSelect\r\n\r\nexport default class PdfUtilsEditor extends Component {\r\n  addOperation (entity) {\r\n    Studio.updateEntity(Object.assign({}, entity, { pdfOperations: [...entity.pdfOperations || [], { type: 'merge' }] }))\r\n  }\r\n\r\n  updateOperation (entity, index, update) {\r\n    Studio.updateEntity(Object.assign({}, entity, { pdfOperations: entity.pdfOperations.map((o, i) => i === index ? Object.assign({}, o, update) : o) }))\r\n  }\r\n\r\n  removeOperation (entity, index) {\r\n    Studio.updateEntity(Object.assign({}, entity, { pdfOperations: entity.pdfOperations.filter((a, i) => i !== index) }))\r\n  }\r\n\r\n  moveDown (entity, index) {\r\n    const pdfOperations = [...entity.pdfOperations]\r\n    const tmp = pdfOperations[index + 1]\r\n    pdfOperations[index + 1] = pdfOperations[index]\r\n    pdfOperations[index] = tmp\r\n    Studio.updateEntity(Object.assign({}, entity, { pdfOperations: pdfOperations }))\r\n  }\r\n\r\n  moveUp (entity, index) {\r\n    const pdfOperations = [...entity.pdfOperations]\r\n    const tmp = pdfOperations[index - 1]\r\n    pdfOperations[index - 1] = pdfOperations[index]\r\n    pdfOperations[index] = tmp\r\n    Studio.updateEntity(Object.assign({}, entity, { pdfOperations: pdfOperations }))\r\n  }\r\n\r\n  renderOperation (entity, operation, index) {\r\n    return (\r\n      <tr key={index}>\r\n        <td style={{ minWidth: '170px' }}>\r\n          <EntityRefSelect\r\n            headingLabel='Select template'\r\n            filter={(references) => {\r\n              const templates = references.templates.filter((e) => e.shortid !== entity.shortid && e.recipe.includes('pdf'))\r\n              return { templates: templates }\r\n            }}\r\n            value={operation.templateShortid ? operation.templateShortid : null}\r\n            onChange={(selected) => this.updateOperation(entity, index, { templateShortid: selected != null && selected.length > 0 ? selected[0].shortid : null })}\r\n          />\r\n        </td>\r\n        <td>\r\n          <select\r\n            value={operation.type}\r\n            onChange={(v) => this.updateOperation(entity, index, { type: v.target.value })}>>\r\n            <option value='merge'>merge</option>\r\n            <option value='append'>append</option>\r\n            <option value='prepend'>prepend</option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <input type='checkbox' disabled={operation.type !== 'merge'} checked={operation.mergeToFront === true} onChange={(v) => this.updateOperation(entity, index, { mergeToFront: v.target.checked })} />\r\n        </td>\r\n        <td>\r\n          <input type='checkbox' disabled={operation.type !== 'merge' || operation.mergeWholeDocument} checked={operation.renderForEveryPage === true} onChange={(v) => this.updateOperation(entity, index, { renderForEveryPage: v.target.checked, mergeWholeDocument: false })} />\r\n        </td>\r\n        <td>\r\n          <input type='checkbox' disabled={operation.type !== 'merge' || operation.renderForEveryPage} checked={operation.mergeWholeDocument === true} onChange={(v) => this.updateOperation(entity, index, { mergeWholeDocument: v.target.checked, renderForEveryPage: false })} />\r\n        </td>\r\n        <td>\r\n          <input type='checkbox' checked={operation.enabled !== false} onChange={(v) => this.updateOperation(entity, index, { enabled: v.target.checked })} />\r\n        </td>\r\n        <td>\r\n          <button className='button' style={{ backgroundColor: '#c6c6c6' }} onClick={() => this.removeOperation(entity, index)}><i className='fa fa-times' /></button>\r\n        </td>\r\n        <td>\r\n          {entity.pdfOperations[index - 1] ? <button className='button' style={{ backgroundColor: '#c6c6c6' }} onClick={() => this.moveUp(entity, index)}><i className='fa fa-arrow-up' /></button> : ''}\r\n        </td>\r\n        <td>\r\n          {entity.pdfOperations[index + 1] ? <button className='button' style={{ backgroundColor: '#c6c6c6' }} onClick={() => this.moveDown(entity, index)}><i className='fa fa-arrow-down' /></button> : ''}\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderOperations (entity) {\r\n    return (<table className={styles.operationTable}>\r\n      <thead>\r\n        <tr>\r\n          <th>Template</th>\r\n          <th>Operation</th>\r\n          <th>Merge to front</th>\r\n          <th>Render for every page</th>\r\n          <th>Merge whole document</th>\r\n          <th>Enabled</th>\r\n          <th />\r\n          <th />\r\n          <th />\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {(entity.pdfOperations || []).map((o, i) => this.renderOperation(entity, o, i))}\r\n      </tbody>\r\n    </table>)\r\n  }\r\n\r\n  render () {\r\n    const { entity } = this.props\r\n\r\n    return (\r\n      <div className='block custom-editor' style={{ overflowX: 'auto' }}>\r\n        <h1><i className='fa fa-file-pdf-o' /> pdf operations\r\n        </h1>\r\n        <p style={{ marginTop: '1rem' }}>\r\n          Use merge/append operations to add dynamic headers or concatenate multiple pdf reports into one.\r\n          See more docs and examples <a href='https://jsreport.net/learn/pdf-utils'>here</a>.\r\n        </p>\r\n        <div style={{ marginTop: '1rem' }}>\r\n          {this.renderOperations(entity)}\r\n        </div>\r\n        <div style={{ marginTop: '1rem' }}>\r\n          <button className='button confirmation' onClick={() => this.addOperation(entity)}>Add operation</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nPdfUtilsEditor.propTypes = {\r\n  entity: React.PropTypes.object.isRequired,\r\n  tab: React.PropTypes.object.isRequired,\r\n  onUpdate: React.PropTypes.func.isRequired\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"operationTable\":\"x-pdf-utils-style-operationTable\"};"],"sourceRoot":""}